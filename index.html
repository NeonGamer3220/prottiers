<!doctype html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NoobTiers</title>

  <!-- Font Awesome (ha használod az ikonokat felül) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">

  <style>
    :root{
      --bg0:#070a12;
      --bg1:#0b1020;
      --card:#0d1426cc;
      --card2:#0b1326cc;
      --stroke:#ffffff18;
      --stroke2:#ffffff10;
      --text:#eaf2ff;
      --muted:#9db2d7;

      --cyan:#00d4ff;
      --purple:#7a5cff;
      --pink:#ff3dbb;

      --gold:#ffcc33;
      --silver:#b8c2d6;
      --bronze:#e0a070;

      --shadow: 0 18px 45px #0000007a;
      --shadow2: 0 8px 18px #00000055;

      --radius: 22px;
      --radius2: 18px;

      /* tier chip base */
      --chip-bg: #0b1320;
      --chip-stroke: #ffffff1f;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text);
      background:
        radial-gradient(900px 600px at 15% 60%, #5c2cff55 0%, transparent 65%),
        radial-gradient(900px 600px at 90% 35%, #00d4ff2d 0%, transparent 55%),
        radial-gradient(700px 500px at 70% 95%, #ff3dbb1a 0%, transparent 55%),
        linear-gradient(180deg, var(--bg0) 0%, var(--bg1) 60%, #05060c 100%);
      overflow-x:hidden;
    }

    /* top bar */
    .topbar{
      position:sticky;
      top:0;
      z-index:50;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, #070a12cc 0%, #070a1295 100%);
      border-bottom:1px solid var(--stroke2);
    }
    .topbar-inner{
      max-width:1200px;
      margin:0 auto;
      padding:14px 18px;
      display:flex;
      align-items:center;
      gap:16px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:800;
      letter-spacing:0.3px;
      font-size:24px;
      color:#7db5ff;
    }
    .brand-badge{
      width:34px; height:34px;
      border-radius:12px;
      background: linear-gradient(135deg, #00d4ff 0%, #7a5cff 50%, #ff3dbb 100%);
      box-shadow: 0 10px 25px #00000055;
    }

    .navlinks{
      display:flex; gap:10px;
      align-items:center;
      margin-left:6px;
    }
    .navbtn{
      display:flex; align-items:center; gap:8px;
      padding:10px 14px;
      border-radius:14px;
      border:1px solid var(--stroke);
      color:var(--text);
      text-decoration:none;
      background: #0b1224aa;
      box-shadow: var(--shadow2);
      transition: transform .12s ease, border-color .12s ease;
      font-weight:700;
      font-size:14px;
      opacity:.95;
    }
    .navbtn:hover{ transform: translateY(-1px); border-color:#ffffff2a; }

    .spacer{ flex:1; }

    .searchwrap{
      display:flex; align-items:center; gap:10px;
      width:min(520px, 48vw);
    }
    .search{
      flex:1;
      display:flex; align-items:center; gap:10px;
      padding:10px 14px;
      border-radius:16px;
      border:1px solid var(--stroke);
      background:#0b1224aa;
      box-shadow: var(--shadow2);
    }
    .search i{ color:#9db2d7aa; }
    .search input{
      flex:1;
      border:none;
      outline:none;
      background:transparent;
      color:var(--text);
      font-size:14px;
    }
    .clearbtn{
      padding:10px 14px;
      border-radius:16px;
      border:1px solid var(--stroke);
      background:#0b1224aa;
      color:var(--text);
      cursor:pointer;
      font-weight:800;
      box-shadow: var(--shadow2);
      transition: transform .12s ease, border-color .12s ease;
    }
    .clearbtn:hover{ transform: translateY(-1px); border-color:#ffffff2a; }

    /* main container */
    .wrap{
      max-width:1200px;
      margin: 28px auto 70px;
      padding: 0 16px;
    }

    .panel{
      border-radius: 26px;
      border:1px solid #ffffff1a;
      background: linear-gradient(180deg, #0a1226aa 0%, #080f1faa 100%);
      box-shadow: var(--shadow);
      padding: 18px;
      position:relative;
      overflow:hidden;
    }
    .panel:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(900px 500px at 20% 20%, #7a5cff22 0%, transparent 60%),
        radial-gradient(700px 450px at 80% 35%, #00d4ff18 0%, transparent 55%),
        radial-gradient(700px 450px at 50% 95%, #ff3dbb10 0%, transparent 55%);
      pointer-events:none;
    }
    .panel > *{ position:relative; z-index:1; }

    /* gamemode icon grid (ONLY this filter UI) */
    .modes{
      border-radius: 20px;
      border:1px solid var(--stroke2);
      background: linear-gradient(180deg, #070d1a88 0%, #070d1a66 100%);
      padding: 14px;
    }
    .modegrid{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:stretch;
    }

    .mode{
      width:92px;
      height:92px;
      border-radius:18px;
      border:1px solid var(--stroke);
      background: linear-gradient(180deg, #0b1327aa 0%, #0a1122aa 100%);
      box-shadow: inset 0 0 0 1px #ffffff0c;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:8px;
      cursor:pointer;
      user-select:none;
      transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease;
    }
    .mode:hover{ transform: translateY(-1px); border-color:#ffffff2a; }
    .mode.active{
      border-color: #7a5cff66;
      box-shadow: 0 0 0 2px #7a5cff22, inset 0 0 0 1px #ffffff12;
      background: linear-gradient(180deg, #2b1c5aaa 0%, #0a1122aa 100%);
    }
    .mode img{
      width:32px; height:32px;
      image-rendering: pixelated;
      filter: drop-shadow(0 4px 10px #00000066);
    }
    .mode .label{
      font-size:11px;
      font-weight:800;
      letter-spacing:.2px;
      text-align:center;
      line-height:1.05;
      color:#eaf2ff;
      opacity:.95;
    }

    .mode.all{
      background: linear-gradient(135deg, #00d4ff22 0%, #7a5cff22 45%, #ff3dbb14 100%);
      border-color:#ffffff22;
    }
    .mode.all .all-dot{
      width:34px; height:34px;
      border-radius:14px;
      background: linear-gradient(135deg, #00d4ff 0%, #7a5cff 55%, #ff3dbb 100%);
      box-shadow: 0 10px 25px #00000055;
    }

    /* header */
    .sectionhead{
      margin-top:18px;
      display:flex;
      align-items:flex-end;
      gap:12px;
    }
    .sectionhead h2{
      margin:0;
      font-size:24px;
      letter-spacing:.2px;
    }
    .countpill{
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background:#0b1224aa;
      color:var(--muted);
      font-weight:800;
      font-size:12px;
    }

    /* table header row */
    .thead{
      margin-top:12px;
      padding: 10px 12px;
      border-radius: 16px;
      border: 1px solid var(--stroke2);
      background: linear-gradient(180deg, #070d1a99 0%, #070d1a66 100%);
      display:grid;
      grid-template-columns: 70px 130px 1fr 1fr 120px;
      gap:12px;
      color:#9db2d7;
      font-weight:900;
      font-size:12px;
      letter-spacing:.14em;
      text-transform:uppercase;
    }

    /* rows */
    .rows{ display:flex; flex-direction:column; gap:14px; margin-top:12px; }
    .row{
      border-radius: 20px;
      border: 1px solid var(--stroke2);
      background: linear-gradient(90deg, #0a1226aa 0%, #091122aa 60%, #07101faa 100%);
      box-shadow: var(--shadow2);
      overflow:hidden;
      display:grid;
      grid-template-columns: 70px 130px 1fr 1fr 120px;
      gap:12px;
      align-items:center;
      padding: 14px 12px;
      position:relative;
    }

    /* top3 glow */
    .row.top1:before, .row.top2:before, .row.top3:before{
      content:"";
      position:absolute; inset:-2px;
      pointer-events:none;
      filter: blur(0px);
      opacity:.55;
    }
    .row.top1:before{
      background: radial-gradient(800px 120px at 40% 50%, #ffcc3333 0%, transparent 65%);
    }
    .row.top2:before{
      background: radial-gradient(800px 120px at 40% 50%, #b8c2d633 0%, transparent 65%);
    }
    .row.top3:before{
      background: radial-gradient(800px 120px at 40% 50%, #e0a07033 0%, transparent 65%);
    }
    .row > *{ position:relative; z-index:1; }

    .rank{
      font-size:28px;
      font-weight:1000;
      text-align:center;
      color:#eaf2ff;
    }

    .skin{
      width:92px; height:92px;
      border-radius:18px;
      border:1px solid var(--stroke);
      background:#0b1327aa;
      display:flex; align-items:center; justify-content:center;
      overflow:hidden;
      box-shadow: inset 0 0 0 1px #ffffff12;
    }
    .skin img{
      width:86px; height:86px;
      image-rendering: pixelated;
      transform: translateY(2px);
    }

    .name{
      display:flex; flex-direction:column;
      gap:4px;
      min-width:0;
    }
    .name .nick{
      font-weight:1000;
      font-size:20px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .name .sub{
      font-size:12px;
      color:var(--muted);
      font-weight:800;
    }

    .tiers{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:flex-start;
    }

    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid var(--chip-stroke);
      background: linear-gradient(180deg, #0b1320 0%, #081020 100%);
      box-shadow: inset 0 0 0 1px #ffffff0e;
      font-weight:900;
      font-size:13px;
      color:#eaf2ff;
      white-space:nowrap;
    }
    .chip img{
      width:16px; height:16px;
      image-rendering: pixelated;
      opacity:.95;
    }

    .points{
      text-align:right;
      font-weight:1000;
      color: var(--cyan);
      font-size:26px;
      line-height:1;
      padding-right:6px;
    }
    .points span{
      display:block;
      margin-top:6px;
      font-size:12px;
      letter-spacing:.2em;
      color: #00d4ffbb;
      text-transform:uppercase;
    }

    /* tier colors (based on YOUR point map) */
    .t-HT1{ border-color:#00d4ff77; box-shadow: 0 0 0 2px #00d4ff22, inset 0 0 0 1px #ffffff0e; }
    .t-LT1{ border-color:#23ffb277; box-shadow: 0 0 0 2px #23ffb222, inset 0 0 0 1px #ffffff0e; }
    .t-HT2{ border-color:#00b7ff77; box-shadow: 0 0 0 2px #00b7ff22, inset 0 0 0 1px #ffffff0e; }
    .t-LT2{ border-color:#a8ff3370; box-shadow: 0 0 0 2px #a8ff331a, inset 0 0 0 1px #ffffff0e; }
    .t-HT3{ border-color:#ff3dbb77; box-shadow: 0 0 0 2px #ff3dbb22, inset 0 0 0 1px #ffffff0e; }
    .t-LT3{ border-color:#ff9b3377; box-shadow: 0 0 0 2px #ff9b3322, inset 0 0 0 1px #ffffff0e; }
    .t-HT4{ border-color:#7a5cff77; box-shadow: 0 0 0 2px #7a5cff22, inset 0 0 0 1px #ffffff0e; }
    .t-LT4{ border-color:#ffd36a77; box-shadow: 0 0 0 2px #ffd36a22, inset 0 0 0 1px #ffffff0e; }
    .t-HT5{ border-color:#b8c2d655; box-shadow: 0 0 0 2px #b8c2d61a, inset 0 0 0 1px #ffffff0e; }
    .t-LT5{ border-color:#ffffff2a; box-shadow: inset 0 0 0 1px #ffffff10; opacity:.95; }

    /* responsive */
    @media (max-width: 980px){
      .thead{ display:none; }
      .row{
        grid-template-columns: 60px 110px 1fr;
        grid-template-areas:
          "rank skin name"
          "rank tiers tiers"
          "rank points points";
      }
      .rank{ grid-area:rank; }
      .skin{ grid-area:skin; width:80px; height:80px; }
      .skin img{ width:74px; height:74px; }
      .name{ grid-area:name; }
      .tiers{ grid-area:tiers; }
      .points{ grid-area:points; text-align:left; padding:0 0 2px 0; }
      .searchwrap{ width: min(420px, 52vw); }
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="brand-badge"></div>
        NoobTiers
      </div>

      <div class="navlinks">
        <a class="navbtn" href="#"><i class="fa-solid fa-house"></i> Főoldal</a>
        <a class="navbtn" href="https://discord.gg/6qUfhNZeMm" target="_blank" rel="noreferrer">
          <i class="fa-brands fa-discord"></i> Discord
        </a>
        <a class="navbtn" href="#" target="_blank" rel="noreferrer">
          <i class="fa-solid fa-cube"></i> Mod
        </a>
      </div>

      <div class="spacer"></div>

      <div class="searchwrap">
        <div class="search">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input id="q" type="text" placeholder="Játékos keresése (szűrés)" />
        </div>
        <button class="clearbtn" id="clear"><i class="fa-solid fa-broom"></i> Törlés</button>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="panel">
      <div class="modes">
        <div class="modegrid" id="modegrid"></div>
      </div>

      <div class="sectionhead">
        <h2>Ranglista</h2>
        <div class="countpill" id="countpill">0 játékos</div>
      </div>

      <div class="thead">
        <div>#</div>
        <div>SKIN</div>
        <div>NÉV</div>
        <div>TIEREK</div>
        <div style="text-align:right;padding-right:6px;">PONT</div>
      </div>

      <div class="rows" id="rows"></div>
    </div>
  </div>

<script>
/**
 * Tier pontok a te táblád szerint:
 * LT5 - 1
 * HT5 - 2
 * LT4 - 3
 * HT4 - 4
 * LT3 - 5
 * HT3 - 6
 * LT2 - 7
 * HT2 - 8
 * LT1 - 9
 * HT1 - 10
 */
const TIER_POINTS = {
  "LT5": 1, "HT5": 2,
  "LT4": 3, "HT4": 4,
  "LT3": 5, "HT3": 6,
  "LT2": 7, "HT2": 8,
  "LT1": 9, "HT1": 10,
};

const MODE_META = [
  { id:"vanilla",     label:"Vanilla",        icon:"assets/modes/vanilla.png" },
  { id:"uhc",         label:"UHC",            icon:"assets/modes/uhc.png" },
  { id:"pot",         label:"Pot",            icon:"assets/modes/pot.png" },
  { id:"nethpot",     label:"NethPot",        icon:"assets/modes/nethpot.png" },
  { id:"smp",         label:"SMP",            icon:"assets/modes/smp.png" },
  { id:"sword",       label:"Sword",          icon:"assets/modes/sword.png" },
  { id:"axe",         label:"Axe",            icon:"assets/modes/axe.png" },
  { id:"mace",        label:"Mace",           icon:"assets/modes/mace.png" },
  { id:"cart",        label:"Cart",           icon:"assets/modes/cart.png" },
  { id:"creeper",     label:"Creeper",        icon:"assets/modes/creeper.png" },
  { id:"diasmp",      label:"DiaSMP",         icon:"assets/modes/diasmp.png" },
  { id:"ogvanilla",   label:"OG Vanilla",     icon:"assets/modes/ogvanilla.png" },
  { id:"shieldlessuhc",label:"Shieldless UHC",icon:"assets/modes/shieldlessuhc.png" },
];

const modeById = Object.fromEntries(MODE_META.map(m => [m.id, m]));

/**
 * ESEMÉNYEK:
 * - Itt a te listád (mace/sword/vanilla/creeper) + az összes DiaSMP eredmény.
 * - Fontos szabály: "minden játékmódból csak 1x kaphatsz tiert"
 *   => ugyanannál a játékos+mode párosnál a legutolsó esemény felülírja a régit.
 */
const EVENTS = [
  // korábbi lista (példa 3 törölve – te kérted)
  {player:"Krisionyt",        mode:"mace",    tier:"LT3"},
  {player:"OwandYTOwnsMe",    mode:"mace",    tier:"LT3"},
  {player:"kakashajas",       mode:"vanilla", tier:"LT5"},
  {player:"Botilezsa",        mode:"mace",    tier:"LT3"},
  {player:"OwandYTOwnsMe",    mode:"creeper", tier:"LT3"},
  {player:"pvlevi",           mode:"mace",    tier:"HT5"},
  {player:"LuxzyOne",         mode:"vanilla", tier:"LT3"},
  {player:"LuxzyOne",         mode:"mace",    tier:"HT5"},
  {player:"keviin",           mode:"vanilla", tier:"HT4"},
  {player:"__Foxythatguy__",  mode:"mace",    tier:"HT3"},
  {player:"NeonGamer322",     mode:"mace",    tier:"LT3"},
  {player:"Krazy_attached",   mode:"sword",   tier:"HT5"},
  {player:"NeonGamer322",     mode:"sword",   tier:"HT4"},
  {player:"Krisionyt",        mode:"sword",   tier:"LT4"},
  {player:"KevinREAL",        mode:"mace",    tier:"LT4"},
  {player:"Krisionyt",        mode:"mace",    tier:"HT4"}, // felülírja Krisionyt mace LT3-at
  {player:"JGJ52",            mode:"sword",   tier:"HT4"},

  // DiaSMP "összes eredmény" (te küldted)
  {player:"DariusREALL",      mode:"diasmp",  tier:"LT2"},
  {player:"NeonGamer322",     mode:"diasmp",  tier:"HT3"},
  {player:"KevinREAL",        mode:"diasmp",  tier:"LT3"},
  {player:"Krisionyt",        mode:"diasmp",  tier:"LT3"},
  {player:"LuxzyOne",         mode:"diasmp",  tier:"HT4"},
  {player:"Krazy_Attached",   mode:"diasmp",  tier:"HT4"},
  {player:"GronyX4",          mode:"diasmp",  tier:"HT4"},
  {player:"Sanyeszkusz",      mode:"diasmp",  tier:"LT4"},
  {player:"Nyxen2311",        mode:"diasmp",  tier:"HT5"},
];

// Kérés: LuxzyOne -> Matheus_Adelee (név átírás)
const RENAME = {
  "LuxzyOne": "Matheus_Adelee"
};

function normPlayer(name){
  return RENAME[name] ?? name;
}

function tierPoints(tier){
  return TIER_POINTS[tier] ?? 0;
}

function tierClass(tier){
  return `t-${tier}`;
}

// NMSR bust (jobb minőség: w=120)
function skinUrl(player){
  const p = encodeURIComponent(player);
  return `https://nmsr.jgj52.hu/bust/${p}?w=120`;
}

/**
 * Összerakjuk a játékosokat úgy, hogy player+mode csak 1 legyen (legutolsó nyer).
 */
function buildPlayersFromEvents(){
  const map = new Map(); // player -> { player, tiersByMode: Map(mode->tier) }

  for(const ev of EVENTS){
    const p = normPlayer(ev.player);
    const mode = ev.mode;
    const tier = ev.tier;

    if(!map.has(p)){
      map.set(p, { player:p, tiersByMode:new Map() });
    }
    map.get(p).tiersByMode.set(mode, tier); // felülír
  }

  const players = [];
  for(const entry of map.values()){
    // pont = összeadjuk az összes meglevő mód tier pontját
    let total = 0;
    for(const t of entry.tiersByMode.values()){
      total += tierPoints(t);
    }
    players.push({ ...entry, points: total });
  }

  // pont szerint csökkenő, majd név
  players.sort((a,b) => (b.points - a.points) || a.player.localeCompare(b.player));
  return players;
}

let activeMode = "all";
let query = "";

function renderModeGrid(){
  const grid = document.getElementById("modegrid");
  grid.innerHTML = "";

  // Összes csempe
  const all = document.createElement("div");
  all.className = `mode all ${activeMode==="all" ? "active":""}`;
  all.onclick = () => { activeMode="all"; renderAll(); };
  all.innerHTML = `
    <div class="all-dot"></div>
    <div class="label">Összes</div>
  `;
  grid.appendChild(all);

  // csak azok a mode-ok, amik tényleg szerepelnek az adatokban
  const usedModes = new Set();
  for(const ev of EVENTS) usedModes.add(ev.mode);

  for(const m of MODE_META){
    if(!usedModes.has(m.id)) continue;

    const el = document.createElement("div");
    el.className = `mode ${activeMode===m.id ? "active":""}`;
    el.onclick = () => { activeMode=m.id; renderAll(); };
    el.innerHTML = `
      <img src="${m.icon}" alt="${m.label}">
      <div class="label">${m.label}</div>
    `;
    grid.appendChild(el);
  }
}

function passesFilter(playerObj){
  if(query){
    const q = query.toLowerCase().trim();
    if(!playerObj.player.toLowerCase().includes(q)) return false;
  }

  if(activeMode === "all") return true;
  return playerObj.tiersByMode.has(activeMode);
}

function buildTierChips(playerObj){
  // ha szűrve van mode: csak azt mutatjuk
  const items = [];
  for(const [mode,tier] of playerObj.tiersByMode.entries()){
    if(activeMode !== "all" && mode !== activeMode) continue;
    items.push({ mode, tier, pts:tierPoints(tier) });
  }

  // rendezzük pont szerint (jobb tier előre)
  items.sort((a,b) => b.pts - a.pts);

  if(items.length === 0){
    return `<div class="tiers"></div>`;
  }

  const chips = items.map(it => {
    const meta = modeById[it.mode] ?? { label: it.mode, icon:"" };
    const icon = meta.icon ? `<img src="${meta.icon}" alt="">` : "";
    return `
      <div class="chip ${tierClass(it.tier)}" title="${meta.label} ${it.tier}">
        ${icon}
        <span>${meta.label}</span>
        <span style="opacity:.85;">${it.tier}</span>
      </div>
    `;
  }).join("");

  return `<div class="tiers">${chips}</div>`;
}

function renderRows(players){
  const rows = document.getElementById("rows");
  rows.innerHTML = "";

  let rank = 0;
  for(const p of players){
    if(!passesFilter(p)) continue;
    rank++;

    const row = document.createElement("div");
    row.className = "row";
    if(rank === 1) row.classList.add("top1");
    if(rank === 2) row.classList.add("top2");
    if(rank === 3) row.classList.add("top3");

    row.innerHTML = `
      <div class="rank">${rank}.</div>
      <div class="skin">
        <img src="${skinUrl(p.player)}" alt="${p.player}">
      </div>
      <div class="name">
        <div class="nick">${p.player}</div>
      </div>
      ${buildTierChips(p)}
      <div class="points">
        ${p.points}
        <span>PONT</span>
      </div>
    `;
    rows.appendChild(row);
  }

  document.getElementById("countpill").textContent = `${rank} játékos`;
}

function renderAll(){
  renderModeGrid();
  const players = buildPlayersFromEvents();
  renderRows(players);
}

document.getElementById("q").addEventListener("input", (e) => {
  query = e.target.value;
  renderAll();
});

document.getElementById("clear").addEventListener("click", () => {
  query = "";
  document.getElementById("q").value = "";
  activeMode = "all";
  renderAll();
});

renderAll();
</script>
</body>
</html>
