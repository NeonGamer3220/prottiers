<!doctype html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NoobTiers</title>

    <meta property="og:title" content="NoobTiers - Magyar Tierlist" />
    <meta
      property="og:description"
      content="Magyarország legnagyobb PVP közössége. Teszteld magad több játékmódban és mászd meg a ranglétrát!"
    />
    <meta property="og:image" content="favicon.png" />
    <meta property="og:type" content="website" />

    <style>
      :root {
        --bg0: #050613;
        --bg1: #07081a;
        --panel: rgba(16, 20, 40, 0.62);
        --stroke: rgba(255, 255, 255, 0.10);
        --text: rgba(255, 255, 255, 0.92);
        --muted: rgba(255, 255, 255, 0.62);
        --muted2: rgba(255, 255, 255, 0.48);
        --brand: #bba3ff;

        --wrapMax: 1320px;

        --modeBoxW: 108px;
        --modeBoxH: 94px;
        --modeIcon: 44px;
        --modeText: 13px;

        --rowH: 120px;
        --pfp: 74px;

        --tierCircle: 38px;
        --tierIcon: 22px;

        /* ✅ important: one fixed column slot width for BOTH icon row + pill row */
        --tierSlot: 54px; /* controls perfect alignment */
        --cols: 13; /* will be overwritten by JS to MODES.length */

        --pillH: 26px;
        --pillFont: 12.5px;
      }

      * { box-sizing: border-box; }

      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
        color: var(--text);
        background:
          radial-gradient(900px 520px at 12% 25%, rgba(122, 86, 255, 0.35), transparent 60%),
          radial-gradient(780px 480px at 88% 75%, rgba(79, 255, 232, 0.12), transparent 60%),
          linear-gradient(180deg, var(--bg0), var(--bg1));
        min-height: 100vh;
      }

      a { color: inherit; text-decoration: none; }

      .topbar {
        height: 70px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0 18px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        background: rgba(10, 12, 26, 0.60);
        backdrop-filter: blur(10px);
        position: sticky;
        top: 0;
        z-index: 10;
      }

      .topbar-inner {
        width: min(var(--wrapMax), calc(100% - 24px));
        display: grid;
        grid-template-columns: 220px 1fr 300px;
        align-items: center;
        gap: 14px;
      }

      .brand {
        font-weight: 800;
        letter-spacing: 0.2px;
        font-size: 22px;
        color: var(--brand);
      }

      .navlinks {
        display: flex;
        gap: 14px;
        align-items: center;
        justify-content: center;
      }

      .navpill {
        padding: 10px 14px;
        border-radius: 999px;
        border: 1px solid transparent;
        color: var(--muted);
        transition: 0.15s ease;
      }

      .navpill.active {
        background: rgba(122, 86, 255, 0.16);
        border-color: rgba(122, 86, 255, 0.30);
        color: var(--text);
      }

      .navpill:hover {
        color: var(--text);
        border-color: rgba(255, 255, 255, 0.10);
      }

      .search {
        display: flex;
        align-items: center;
        justify-content: flex-end;
      }

      .searchbox {
        width: 100%;
        max-width: 300px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.10);
        border-radius: 999px;
        padding: 10px 14px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .searchbox input {
        border: none;
        outline: none;
        background: transparent;
        color: var(--text);
        width: 100%;
        font-size: 14px;
      }

      .searchicon { opacity: 0.75; font-size: 14px; }

      .wrap {
        width: min(var(--wrapMax), calc(100% - 24px));
        margin: 22px auto 40px;
      }

      .panel {
        background: var(--panel);
        border: 1px solid var(--stroke);
        border-radius: 26px;
        box-shadow: 0 22px 70px rgba(0, 0, 0, 0.35);
        backdrop-filter: blur(14px);
        padding: 20px;
      }

      .modes-area {
        padding: 18px 18px 14px;
        background: rgba(8, 10, 22, 0.40);
        border: 1px solid rgba(255, 255, 255, 0.07);
        border-radius: 22px;
      }

      .modes-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(var(--modeBoxW), var(--modeBoxW)));
        gap: 12px;
        align-items: start;
        justify-content: start;
      }

      .mode {
        width: var(--modeBoxW);
        height: var(--modeBoxH);
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.10);
        background: rgba(16, 20, 40, 0.45);
        padding: 10px;
        transition: 0.15s ease;

        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .mode:hover {
        transform: translateY(-1px);
        border-color: rgba(255, 255, 255, 0.16);
        background: rgba(18, 22, 46, 0.52);
      }

      .mode img {
        width: var(--modeIcon);
        height: var(--modeIcon);
        image-rendering: pixelated;
        filter: drop-shadow(0 6px 16px rgba(0,0,0,0.35));
        display: block;
      }

      .mode .label {
        height: calc(var(--modeText) * 2.4);
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        font-size: var(--modeText);
        color: rgba(255, 255, 255, 0.90);
        line-height: 1.05;
        margin: 0;
        padding: 0;
        width: 100%;
      }

      .divider {
        height: 1px;
        margin: 16px 0 12px;
        background: rgba(255, 255, 255, 0.08);
      }

      .tablehead {
        display: grid;
        grid-template-columns: 90px 420px 1fr;
        align-items: center;
        color: var(--muted2);
        font-size: 13px;
        padding: 6px 8px 10px;
      }

      .row {
        height: var(--rowH);
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        background: rgba(12, 16, 34, 0.42);
        display: grid;
        grid-template-columns: 90px 420px 1fr;
        align-items: center;
        padding: 12px 14px;
        margin: 12px 0;
        overflow: hidden;
      }

      .row.red {
        background: rgba(120, 10, 18, 0.62);
        border-color: rgba(255, 255, 255, 0.10);
      }

      .place {
        font-size: 42px;
        font-weight: 900;
        opacity: 0.95;
        padding-left: 6px;
      }

      .profile {
        display: flex;
        align-items: center;
        gap: 14px;
      }

      .pfp {
        width: var(--pfp);
        height: var(--pfp);
        border-radius: 16px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        overflow: hidden;
        background: rgba(255, 255, 255, 0.06);
        flex: 0 0 auto;
      }

      .pfp img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        image-rendering: pixelated;
      }

      .ptext .name {
        font-size: 22px;
        font-weight: 800;
        margin: 0;
        line-height: 1.05;
      }

      .ptext .pts {
        margin: 4px 0 0;
        color: rgba(255, 255, 255, 0.80);
        font-size: 14px;
      }

      .tiers {
        padding-right: 10px;
        display: flex;
        justify-content: flex-end;
      }

      .tiers-stack {
        width: 100%;
        max-width: 760px;
        display: grid;
        grid-template-rows: auto auto;
        gap: 10px;
        justify-items: end;
      }

      /* ✅ PERFECT ALIGNMENT: both rows share identical columns */
      .tier-icons,
      .tier-pills {
        display: grid;
        grid-template-columns: repeat(var(--cols), var(--tierSlot));
        gap: 10px;
        align-items: center;
        justify-content: end;
        justify-items: center; /* centers circle/pill inside each slot */
      }

      .tiercircle {
        width: var(--tierCircle);
        height: var(--tierCircle);
        border-radius: 999px;
        display: grid;
        place-items: center;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(0, 0, 0, 0.22);
        box-shadow: 0 12px 26px rgba(0, 0, 0, 0.20);
      }

      .tiercircle img {
        width: var(--tierIcon);
        height: var(--tierIcon);
        image-rendering: pixelated;
        filter: drop-shadow(0 6px 10px rgba(0,0,0,0.35));
        display: block;
      }

      /* empty circle (keep the slot + ring, but no icon) */
      .tiercircle.empty { opacity: 0.25; }
      .tiercircle.empty img { display: none; }

      .pill {
        height: var(--pillH);
        width: var(--tierSlot); /* ✅ fixes drift: pills same slot width as circles */
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-weight: 800;
        letter-spacing: 0.2px;
        font-size: var(--pillFont);
        border: 1px solid rgba(255, 255, 255, 0.18);
        background: rgba(0, 0, 0, 0.18);
        color: rgba(255, 255, 255, 0.92);
        padding: 0; /* width controls size */
      }

      .pill.empty {
        opacity: 0.25;
        color: rgba(255, 255, 255, 0.55);
      }

      .t-HT2 { border-color: rgba(85, 209, 255, 0.55); }
      .t-LT1 { border-color: rgba(255, 205, 102, 0.55); }
      .t-LT2 { border-color: rgba(187, 163, 255, 0.55); }
      .t-RHT2 { border-color: rgba(255, 75, 106, 0.60); }
      .t-RLT2 { border-color: rgba(255, 205, 102, 0.60); }
      .t-LT5 { border-color: rgba(140, 170, 255, 0.55); }

      .footer {
        margin-top: 18px;
        color: rgba(255, 255, 255, 0.45);
        font-size: 12px;
        padding-left: 4px;
      }

      @media (max-width: 1100px) {
        :root { --wrapMax: 980px; --rowH: 128px; }
        .topbar-inner { grid-template-columns: 180px 1fr 240px; }
        .tablehead, .row { grid-template-columns: 80px 360px 1fr; }
      }

      @media (max-width: 860px) {
        .topbar-inner { grid-template-columns: 1fr; gap: 10px; }
        .navlinks { justify-content: flex-start; }
        .search { justify-content: flex-start; }
        .searchbox { max-width: 100%; }

        .tablehead { display: none; }
        .row {
          height: auto;
          grid-template-columns: 1fr;
          gap: 12px;
          padding: 14px;
        }
        .place { font-size: 36px; }
        .tiers { justify-content: flex-start; }

        .tiers-stack { justify-items: start; max-width: 100%; }

        .tier-icons, .tier-pills {
          overflow-x: auto;
          padding-bottom: 4px;
          justify-content: start; /* nicer on mobile */
        }
      }
    </style>
  </head>

  <body>
    <header class="topbar">
      <div class="topbar-inner">
        <div class="brand">NoobTiers</div>

        <nav class="navlinks">
          <a class="navpill active" href="#">Főoldal</a>
          <a class="navpill" href="https://discord.gg/TPk3vbcPyv" target="_blank" rel="noreferrer">Discord</a>
          <a class="navpill" href="#" title="Mod link">Mod</a>
        </nav>

        <div class="search">
          <div class="searchbox">
            <span class="searchicon">⌕</span>
            <input id="searchInput" placeholder="Keresés..." />
          </div>
        </div>
      </div>
    </header>

    <main class="wrap">
      <section class="panel">
        <div class="modes-area">
          <div id="modes" class="modes-grid"></div>
        </div>

        <div class="divider"></div>

        <div class="tablehead">
          <div>#</div>
          <div>Név</div>
          <div style="text-align:right;">Tierek</div>
        </div>

        <div id="rows"></div>

        <div class="footer">NoobTiers • static HTML</div>
      </section>
    </main>

    <script>
      const MODE_ICON_BASE = "assets/modes/";

      const MODES = [
        { key: "vanilla", name: "Vanilla", icon: "vanilla.png" },
        { key: "uhc", name: "UHC", icon: "uhc.png" },
        { key: "pot", name: "Pot", icon: "pot.png" },
        { key: "nethpot", name: "NethPot", icon: "nethpot.png" },
        { key: "smp", name: "SMP", icon: "smp.png" },
        { key: "sword", name: "Sword", icon: "sword.png" },
        { key: "axe", name: "Axe", icon: "axe.png" },
        { key: "mace", name: "Mace", icon: "mace.png" },
        { key: "cart", name: "Cart", icon: "cart.png" },
        { key: "creeper", name: "Creeper", icon: "creeper.png" },
        { key: "diasmp", name: "DiaSMP", icon: "diasmp.png" },
        { key: "ogvanilla", name: "OG Vanilla", icon: "ogvanilla.png" },
        { key: "shieldlessuhc", name: "Shieldless UHC", icon: "shieldlessuhc.png" }
      ];

      const PLAYERS = [
        {
          place: 1,
          name: "antidoe",
          points: 364,
          tiers: {
            vanilla: "HT2",
            uhc: "HT2",
            pot: "HT2",
            nethpot: "HT2",
            smp: "LT1",
            sword: "LT1",
            axe: "LT2",
            mace: "LT2",
            cart: "HT2",
            creeper: "HT2",
            diasmp: "HT2",
            ogvanilla: "LT1",
            shieldlessuhc: "LT2"
          }
        },
        {
          place: 2,
          name: "Gnomonic",
          points: 234,
          tiers: {
            vanilla: "RLT2",
            uhc: "RHT2",
            pot: "RHT2",
            nethpot: "RHT2",
            smp: "RHT2",
            sword: "RHT2",
            axe: "RLT2",
            mace: "LT5"
          }
        },
        {
          place: 3,
          name: "Denji_Ryomen",
          points: 224,
          highlight: "red",
          tiers: {
            sword: "RHT2",
            axe: "RHT2",
            mace: "RLT2"
          }
        }
      ];

      // ✅ set the global column count so both icon row + pill row match perfectly
      document.documentElement.style.setProperty("--cols", String(MODES.length));

      function tierClass(t) {
        if (!t) return "empty";
        return "t-" + t.replace(/\s+/g, "");
      }

      function pfpUrl(username) {
        return "https://nmsr.jgj52.hu/bust/" + encodeURIComponent(username) + "?w=100";
      }

      const modesEl = document.getElementById("modes");
      modesEl.innerHTML = MODES.map(m => `
        <a class="mode" href="#${m.key}" title="${m.name}">
          <img src="${MODE_ICON_BASE}${m.icon}" alt="${m.name}" />
          <div class="label">${m.name}</div>
        </a>
      `).join("");

      const rowsEl = document.getElementById("rows");

      function render(players) {
        rowsEl.innerHTML = players.map(p => {
          const rowClass = p.highlight === "red" ? "row red" : "row";

          const iconsRow = MODES.map(m => {
            const t = p.tiers?.[m.key];
            const empty = !t ? " empty" : "";
            return `<div class="tiercircle${empty}"><img src="${MODE_ICON_BASE}${m.icon}" alt="${m.name}" /></div>`;
          }).join("");

          const pillsRow = MODES.map(m => {
            const t = p.tiers?.[m.key];
            if (!t) return `<div class="pill empty">&nbsp;</div>`;
            return `<div class="pill ${tierClass(t)}">${t}</div>`;
          }).join("");

          return `
            <div class="${rowClass}">
              <div class="place">${p.place}.</div>

              <div class="profile">
                <div class="pfp">
                  <img src="${pfpUrl(p.name)}" alt="${p.name}" />
                </div>
                <div class="ptext">
                  <p class="name">${p.name}</p>
                  <p class="pts">${p.points} Pont</p>
                </div>
              </div>

              <div class="tiers">
                <div class="tiers-stack">
                  <div class="tier-icons">${iconsRow}</div>
                  <div class="tier-pills">${pillsRow}</div>
                </div>
              </div>
            </div>
          `;
        }).join("");
      }

      render(PLAYERS);

      const searchInput = document.getElementById("searchInput");
      searchInput.addEventListener("input", () => {
        const q = searchInput.value.trim().toLowerCase();
        if (!q) return render(PLAYERS);
        render(PLAYERS.filter(p => p.name.toLowerCase().includes(q)));
      });
    </script>
  </body>
</html>
